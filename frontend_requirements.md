# å‰ç«¯å¼€å‘éœ€æ±‚æ–‡æ¡£ - ä¸ªäººåª’ä½“åº“ + æ¯æ—¥æ‰“å¡

## é¡¹ç›®æ¦‚è¿°

å¼€å‘ä¸€ä¸ªä¸ªäººåª’ä½“åº“å’Œä¹ æƒ¯è¿½è¸ªå‰ç«¯é¡µé¢ï¼Œå±•ç¤ºç”¨æˆ·çš„ï¼š
- ğŸ“½ï¸ ç”µå½±æ”¶è—
- ğŸ“º ç”µè§†å‰§æ”¶è—  
- ğŸ“š ä¹¦ç±æ”¶è—
- ğŸ® æ¸¸æˆæ”¶è—
- ğŸƒ æ¯æ—¥æ‰“å¡ï¼ˆè¿åŠ¨/è¯»ä¹¦/Duolingoï¼‰

**æŠ€æœ¯æ ˆå»ºè®®**ï¼šAstro + React/Vueï¼ˆä½ ä»¬å†³å®šï¼‰

---

## ç”¨æˆ·æ•…äº‹

### åª’ä½“åº“åŠŸèƒ½

#### ç”µå½±æ”¶è—
**æ•…äº‹1ï¼šæ·»åŠ è§‚å½±è®°å½•**
> ä½œä¸ºä¸€ä¸ªç”µå½±çˆ±å¥½è€…ï¼Œæˆ‘æƒ³è¦æœç´¢å¹¶æ·»åŠ æˆ‘çœ‹è¿‡çš„ç”µå½±åˆ°æˆ‘çš„æ”¶è—åº“ï¼Œè®°å½•æˆ‘çš„è¯„åˆ†å’Œè§‚åæ„Ÿï¼Œä»¥ä¾¿æ—¥åå›é¡¾å’Œåˆ†äº«æˆ‘çš„è§‚å½±å†ç¨‹ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥é€šè¿‡æœç´¢åŠŸèƒ½æ‰¾åˆ°ç”µå½±ï¼ˆè°ƒç”¨TMDB APIï¼‰
- å¯ä»¥é€‰æ‹©ç”µå½±å¹¶å¡«å†™ä¸ªäººè¯„åˆ†ï¼ˆ0-10åˆ†ï¼‰
- å¯ä»¥å†™è§‚åæ„Ÿï¼ˆæ”¯æŒå¤šè¡Œæ–‡æœ¬ï¼‰
- å¯ä»¥æ ‡è®°è§‚çœ‹æ—¥æœŸ
- å¯ä»¥é€‰æ‹©çŠ¶æ€ï¼ˆæƒ³çœ‹/åœ¨çœ‹/çœ‹è¿‡ï¼‰
- ä¿å­˜ååœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º

**æ•…äº‹2ï¼šæµè§ˆæˆ‘çš„ç”µå½±åº“**
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘æƒ³è¦ä»¥å¡ç‰‡å½¢å¼æµè§ˆæˆ‘çš„ç”µå½±æ”¶è—ï¼Œçœ‹åˆ°æ¯éƒ¨ç”µå½±çš„æµ·æŠ¥ã€æ ‡é¢˜ã€æˆ‘çš„è¯„åˆ†å’Œè§‚çœ‹æ—¥æœŸï¼Œä»¥ä¾¿å¿«é€Ÿå›é¡¾æˆ‘çœ‹è¿‡çš„ç”µå½±ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- ä»¥å¡ç‰‡ç½‘æ ¼å½¢å¼å±•ç¤º
- æ¯å¼ å¡ç‰‡æ˜¾ç¤ºï¼šç”µå½±æµ·æŠ¥ã€ä¸­æ–‡æ ‡é¢˜ã€æˆ‘çš„è¯„åˆ†ã€è§‚çœ‹æ—¥æœŸ
- ç‚¹å‡»å¡ç‰‡å¯æŸ¥çœ‹å®Œæ•´ä¿¡æ¯ï¼ˆåŒ…æ‹¬è§‚åæ„Ÿï¼‰
- æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆæƒ³çœ‹/åœ¨çœ‹/çœ‹è¿‡ï¼‰
- æŒ‰è§‚çœ‹æ—¥æœŸæ’åºï¼ˆæœ€æ–°ä¼˜å…ˆï¼‰

**æ•…äº‹3ï¼šç®¡ç†ç”µå½±è®°å½•**
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘æƒ³è¦ç¼–è¾‘æˆ–åˆ é™¤æˆ‘çš„ç”µå½±è®°å½•ï¼Œä»¥ä¾¿ä¿®æ­£é”™è¯¯æˆ–ç§»é™¤ä¸å†éœ€è¦çš„æ¡ç›®ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥ç¼–è¾‘è¯„åˆ†å’Œè§‚åæ„Ÿ
- å¯ä»¥æ›´æ–°è§‚çœ‹æ—¥æœŸ
- å¯ä»¥åˆ é™¤è®°å½•ï¼ˆéœ€ç¡®è®¤ï¼‰

#### ç”µè§†å‰§è¿½è¸ª
**æ•…äº‹4ï¼šè®°å½•è¿½å‰§è¿›åº¦**
> ä½œä¸ºå‰§é›†çˆ±å¥½è€…ï¼Œæˆ‘æƒ³è¦è®°å½•æˆ‘æ­£åœ¨è¿½çš„ç”µè§†å‰§ï¼Œæ ‡è®°æˆ‘çœ‹åˆ°ç¬¬å‡ å­£ç¬¬å‡ é›†ï¼Œä»¥ä¾¿ä¸‹æ¬¡ç»§ç»­è§‚çœ‹æ—¶çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥æœç´¢å¹¶æ·»åŠ ç”µè§†å‰§
- å¯ä»¥è®°å½•å½“å‰å­£æ•°å’Œé›†æ•°
- å¯ä»¥æ ‡è®°çŠ¶æ€ï¼ˆæƒ³çœ‹/åœ¨çœ‹/çœ‹è¿‡/å¼ƒå‰§ï¼‰
- å¯ä»¥å¿«é€Ÿæ›´æ–°è¿›åº¦ï¼ˆ+1é›†æŒ‰é’®ï¼‰
- å®Œç»“åå¯ä»¥å†™æ•´ä½“è¯„ä»·

#### ä¹¦ç±é˜…è¯»
**æ•…äº‹5ï¼šè®°å½•é˜…è¯»æ¸…å•**
> ä½œä¸ºè¯»ä¹¦çˆ±å¥½è€…ï¼Œæˆ‘æƒ³è¦è®°å½•æˆ‘è¯»è¿‡çš„ä¹¦ç±ï¼ŒåŒ…æ‹¬é˜…è¯»æ—¥æœŸå’Œè¯»ä¹¦ç¬”è®°ï¼Œä»¥ä¾¿å»ºç«‹æˆ‘çš„ä¸ªäººä¹¦å•ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥é€šè¿‡ä¹¦åæˆ–ISBNæœç´¢ä¹¦ç±ï¼ˆGoogle Books APIï¼‰
- æ˜¾ç¤ºä¹¦ç±å°é¢ã€ä½œè€…ã€å‡ºç‰ˆä¿¡æ¯
- å¯ä»¥è®°å½•é˜…è¯»å®Œæˆæ—¥æœŸ
- å¯ä»¥å†™è¯»ä¹¦ç¬”è®°
- å¯ä»¥è¯„åˆ†

#### æ¸¸æˆæ”¶è—
**æ•…äº‹6ï¼šç®¡ç†æ¸¸æˆåº“**
> ä½œä¸ºæ¸¸æˆç©å®¶ï¼Œæˆ‘æƒ³è¦è®°å½•æˆ‘ç©è¿‡çš„æ¸¸æˆï¼ŒåŒ…æ‹¬æ¸¸ç©å¹³å°å’Œæ—¶é•¿ï¼Œä»¥ä¾¿ç®¡ç†æˆ‘çš„æ¸¸æˆæ”¶è—ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥æœç´¢æ¸¸æˆï¼ˆRAWG APIï¼‰
- å¯ä»¥é€‰æ‹©æ¸¸ç©å¹³å°ï¼ˆPS5/Xbox/Switch/PCç­‰ï¼‰
- å¯ä»¥è®°å½•æ¸¸ç©æ—¶é•¿
- å¯ä»¥æ ‡è®°çŠ¶æ€ï¼ˆæƒ³ç©/åœ¨ç©/å·²é€šå…³/å¼ƒå‘ï¼‰
- æ˜¾ç¤ºæ¸¸æˆå°é¢å’ŒåŸºæœ¬ä¿¡æ¯

---

### ä¹ æƒ¯è¿½è¸ªåŠŸèƒ½

#### æ¯æ—¥æ‰“å¡
**æ•…äº‹7ï¼šè®°å½•æ¯æ—¥è¿åŠ¨**
> ä½œä¸ºå¥èº«çˆ±å¥½è€…ï¼Œæˆ‘æƒ³è¦æ¯å¤©è®°å½•æˆ‘çš„è¿åŠ¨æ—¶é•¿å’Œå¼ºåº¦ï¼Œå¹¶ä»¥GitHubè´¡çŒ®å›¾çš„å½¢å¼å¯è§†åŒ–å±•ç¤ºä¸€å¹´çš„è¿åŠ¨æ•°æ®ï¼Œä»¥ä¾¿æ¿€åŠ±è‡ªå·±ä¿æŒè¿åŠ¨ä¹ æƒ¯ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥å¿«é€Ÿæ‰“å¡ï¼ˆå¡«å†™æ—¥æœŸã€æ—¶é•¿ã€å¼ºåº¦ï¼‰
- å¯ä»¥æ·»åŠ å¤‡æ³¨ï¼ˆå¦‚"æ™¨è·‘5å…¬é‡Œ"ï¼‰
- ä»¥çƒ­åŠ›å›¾å½¢å¼å±•ç¤ºå…¨å¹´æ•°æ®
- è‰²å—æ·±æµ…ä»£è¡¨è¿åŠ¨æ—¶é•¿
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå½“æ—¥è¯¦æƒ…
- æ˜¾ç¤ºç»Ÿè®¡æ•°æ®ï¼ˆæ€»å¤©æ•°ã€è¿ç»­å¤©æ•°ã€æ€»æ—¶é•¿ï¼‰

**æ•…äº‹8ï¼šè¿½è¸ªé˜…è¯»ä¹ æƒ¯**
> ä½œä¸ºæ¯æ—¥é˜…è¯»è€…ï¼Œæˆ‘æƒ³è¦è®°å½•æ¯å¤©çš„é˜…è¯»æ—¶é•¿å’Œé¡µæ•°ï¼Œçœ‹åˆ°æˆ‘çš„é˜…è¯»çƒ­åŠ›å›¾ï¼Œä»¥ä¾¿ä¿æŒæ¯æ—¥é˜…è¯»çš„ä¹ æƒ¯ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥è®°å½•é˜…è¯»æ—¶é•¿å’Œé¡µæ•°
- çƒ­åŠ›å›¾å±•ç¤ºï¼ˆé¢œè‰²æ·±æµ…ä»£è¡¨é˜…è¯»é‡ï¼‰
- ç»Ÿè®¡æ€»é˜…è¯»å¤©æ•°å’Œæ€»é¡µæ•°
- æ˜¾ç¤ºå½“å‰è¿ç»­é˜…è¯»å¤©æ•°

**æ•…äº‹9ï¼šç›‘æ§Duolingoå­¦ä¹ è¿›åº¦**
> ä½œä¸ºè¯­è¨€å­¦ä¹ è€…ï¼Œæˆ‘æƒ³è¦è®°å½•æ¯å¤©çš„Duolingoå­¦ä¹ æ•°æ®ï¼ˆè¯¾ç¨‹æ•°/ç»éªŒå€¼ï¼‰ï¼Œå¯è§†åŒ–æˆ‘çš„å­¦ä¹ åšæŒåº¦ï¼Œä»¥ä¾¿ç£ä¿ƒè‡ªå·±æ¯æ—¥å­¦ä¹ ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¯ä»¥æ‰‹åŠ¨è¾“å…¥æ¯æ—¥å­¦ä¹ æ•°æ®
- çƒ­åŠ›å›¾å±•ç¤ºå­¦ä¹ é¢‘ç‡
- ç»Ÿè®¡æ€»å­¦ä¹ å¤©æ•°å’Œè·å¾—çš„æ€»ç»éªŒå€¼
- æ˜¾ç¤ºæœ€é•¿è¿ç»­å­¦ä¹ å¤©æ•°

---

### æ•°æ®å¯è§†åŒ–
**æ•…äº‹10ï¼šå¹´åº¦å›é¡¾**
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘æƒ³è¦çœ‹åˆ°æˆ‘çš„å¹´åº¦æ•°æ®æ€»ç»“ï¼ŒåŒ…æ‹¬çœ‹äº†å¤šå°‘éƒ¨ç”µå½±ã€è¯»äº†å¤šå°‘æœ¬ä¹¦ã€è¿åŠ¨äº†å¤šå°‘å¤©ï¼Œä»¥ä¾¿å›é¡¾æˆ‘çš„ä¸€å¹´ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ˜¾ç¤ºå¹´åº¦ç»Ÿè®¡å¡ç‰‡
- å„ç±»åª’ä½“çš„æ•°é‡ç»Ÿè®¡
- å„ç±»ä¹ æƒ¯çš„æ‰“å¡å¤©æ•°
- å¯ä»¥åˆ‡æ¢ä¸åŒå¹´ä»½æŸ¥çœ‹å†å²æ•°æ®

---

### äº¤äº’ä½“éªŒ
**æ•…äº‹11ï¼šå“åº”å¼è®¾è®¡**
> ä½œä¸ºç§»åŠ¨ç«¯ç”¨æˆ·ï¼Œæˆ‘æƒ³è¦åœ¨æ‰‹æœºä¸Šä¹Ÿèƒ½æ–¹ä¾¿åœ°ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ï¼Œä»¥ä¾¿éšæ—¶éšåœ°è®°å½•å’ŒæŸ¥çœ‹ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- è§¦æ‘¸æ“ä½œå‹å¥½
- çƒ­åŠ›å›¾åœ¨å°å±å¹•å¯æ»‘åŠ¨æŸ¥çœ‹

**æ•…äº‹12ï¼šå¿«é€Ÿæ“ä½œ**
> ä½œä¸ºé«˜é¢‘ç”¨æˆ·ï¼Œæˆ‘æƒ³è¦å¿«é€Ÿæ·»åŠ è®°å½•ï¼ˆæœ€å°‘ç‚¹å‡»æ¬¡æ•°ï¼‰ï¼Œä»¥ä¾¿èŠ‚çœæ—¶é—´ã€‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- æä¾›å¿«æ·æ‰“å¡å…¥å£ï¼ˆå›ºå®šæŒ‰é’®ï¼‰
- è¡¨å•è‡ªåŠ¨å¡«å……ä»Šæ—¥æ—¥æœŸ
- æ”¯æŒé”®ç›˜å¿«æ·é”®ï¼ˆå¯é€‰ï¼‰
- è®°ä½ä¸Šæ¬¡è¾“å…¥çš„å¼ºåº¦/å¹³å°ç­‰

---

## åç«¯APIæ¥å£

### åŸºç¡€ä¿¡æ¯
- **Base URL**: `https://pyqapi.3331322.xyz`
- **è®¤è¯**: JWT Tokenï¼ˆBearer Token in Headerï¼‰
- **å“åº”æ ¼å¼**: JSON

### 1. ç”µå½±åº“ API

#### è·å–ç”µå½±åˆ—è¡¨
```http
GET /api/library/movies?status=watched&limit=20&page=1
Authorization: Bearer {token}

Response:
{
  "success": true,
  "data": {
    "items": [
      {
        "id": 1,
        "tmdb_id": 27205,
        "my_rating": 9.5,
        "my_review": "è¯ºå…°çš„ç¥ä½œ",
        "status": "watched",
        "release_date": "2010-07-16",
        "completed_date": "2024-01-15",
        "created_at": "2024-01-15 20:00:00"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 42
    }
  }
}
```

#### æ·»åŠ ç”µå½±
```http
POST /api/library/movies
Authorization: Bearer {token}
Content-Type: application/json

{
  "tmdb_id": 27205,
  "my_rating": 9.5,
  "my_review": "ç¥ä½œ",
  "status": "watched",
  "release_date": "2010-07-16",
  "completed_date": "2024-01-15"
}
```

#### æ›´æ–°/åˆ é™¤
```http
PUT /api/library/movies/{id}
DELETE /api/library/movies/{id}
```

### 2. ç”µè§†å‰§ API

è·¯å¾„: `/api/library/tv-shows`

é¢å¤–å­—æ®µ:
- `first_air_date`: é¦–æ’­æ—¶é—´
- `current_season`: å½“å‰çœ‹åˆ°ç¬¬å‡ å­£
- `current_episode`: å½“å‰çœ‹åˆ°ç¬¬å‡ é›†

æ›´æ–°è¿›åº¦:
```http
PATCH /api/library/tv-shows/{id}/progress
{
  "current_season": 2,
  "current_episode": 5
}
```

### 3. ä¹¦ç± API

è·¯å¾„: `/api/library/books`

å­—æ®µ:
- `google_books_id`: Google Books ID
- `isbn`: ISBNå·
- `publication_date`: å‡ºç‰ˆæ—¶é—´

### 4. æ¸¸æˆ API

è·¯å¾„: `/api/library/games`

å­—æ®µ:
- `rawg_id`: RAWGæ¸¸æˆID
- `playtime_hours`: æ¸¸ç©æ—¶é•¿
- `platform`: æ¸¸æˆå¹³å°

### 5. æ¯æ—¥æ‰“å¡ API

#### æ‰“å¡
```http
POST /api/activities/checkin
Authorization: Bearer {token}

{
  "activity_type": "exercise",
  "activity_date": "2024-12-03",
  "duration_minutes": 30,
  "intensity": "high",
  "notes": "æ™¨è·‘5å…¬é‡Œ"
}
```

#### è·å–çƒ­åŠ›å›¾æ•°æ®
```http
GET /api/activities/heatmap?type=exercise&year=2024

Response:
{
  "success": true,
  "data": [
    {"date": "2024-01-01", "value": 30, "intensity": "high"},
    {"date": "2024-01-02", "value": 0},
    {"date": "2024-01-03", "value": 45, "intensity": "medium"},
    // ...365å¤©æ•°æ®
  ]
}
```

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/activities/stats?type=exercise&year=2024

Response:
{
  "success": true,
  "data": {
    "total_days": 180,
    "total_minutes": 5400,
    "current_streak": 7,
    "longest_streak": 21,
    "monthly_breakdown": [
      {"month": 1, "days": 15, "minutes": 450}
    ]
  }
}
```

---

## ç¬¬ä¸‰æ–¹APIé›†æˆ

### TMDB (ç”µå½±/ç”µè§†å‰§)

#### æ³¨å†Œè·å–API Key
https://www.themoviedb.org/settings/api

#### æœç´¢ç”µå½±
```http
GET https://api.themoviedb.org/3/search/movie?api_key={YOUR_KEY}&query=ç›—æ¢¦ç©ºé—´&language=zh-CN
```

#### è·å–ç”µå½±è¯¦æƒ…
```http
GET https://api.themoviedb.org/3/movie/27205?api_key={YOUR_KEY}&language=zh-CN

Response:
{
  "id": 27205,
  "title": "ç›—æ¢¦ç©ºé—´",
  "original_title": "Inception",
  "poster_path": "/edv5CZvWj09upOsy2Y6IwDhK8bt.jpg",
  "backdrop_path": "/...",
  "release_date": "2010-07-16",
  "overview": "å½±ç‰‡ç®€ä»‹...",
  "vote_average": 8.4,
  "runtime": 148
}
```

æµ·æŠ¥URLæ‹¼æ¥:
```
https://image.tmdb.org/t/p/w500{poster_path}
```

### Google Books (ä¹¦ç±)

**æ— éœ€API Key**

#### æœç´¢ä¹¦ç±
```http
GET https://www.googleapis.com/books/v1/volumes?q=ä¸‰ä½“
```

#### é€šè¿‡ISBNæŸ¥è¯¢
```http
GET https://www.googleapis.com/books/v1/volumes?q=isbn:9787536692930
```

### RAWG (æ¸¸æˆ)

#### æ³¨å†Œè·å–API Key
https://rawg.io/apidocs

#### æœç´¢æ¸¸æˆ
```http
GET https://api.rawg.io/api/games?key={YOUR_KEY}&search=zelda
```

---

## UIè®¾è®¡è¦æ±‚

### 1. åª’ä½“åº“é¡µé¢

#### å¸ƒå±€
- é¡¶éƒ¨ï¼šTabåˆ‡æ¢ï¼ˆç”µå½±/ç”µè§†å‰§/ä¹¦ç±/æ¸¸æˆï¼‰
- ç­›é€‰ï¼šæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆæƒ³çœ‹/åœ¨çœ‹/çœ‹è¿‡ï¼‰
- å¡ç‰‡å¼å±•ç¤º
- åˆ†é¡µæˆ–æ— é™æ»šåŠ¨

#### å¡ç‰‡å†…å®¹
- æµ·æŠ¥/å°é¢ï¼ˆæ¥è‡ªTMDB/Google Books/RAWGï¼‰
- æ ‡é¢˜
- å‘è¡Œ/å‡ºç‰ˆå¹´ä»½
- æˆ‘çš„è¯„åˆ†ï¼ˆâ­ æ˜¾ç¤ºï¼‰
- æˆ‘çš„è¯„ä»·ï¼ˆç‚¹å‡»å±•å¼€ï¼‰
- å®Œæˆæ—¥æœŸ

#### æ·»åŠ æ–°é¡¹ç›®æµç¨‹
1. ç‚¹å‡»"æ·»åŠ "æŒ‰é’®
2. å¼¹å‡ºæœç´¢æ¡†ï¼ˆè°ƒç”¨TMDB/Google Books/RAWGæœç´¢ï¼‰
3. é€‰æ‹©é¡¹ç›®ï¼Œå¡«å†™ä¸ªäººä¿¡æ¯ï¼š
   - è¯„åˆ†ï¼ˆ0-10ï¼‰
   - è¯„ä»·
   - å®Œæˆæ—¥æœŸ
   - çŠ¶æ€
4. æäº¤åˆ°åç«¯API

### 2. æ¯æ—¥æ‰“å¡é¡µé¢

#### GitHubé£æ ¼çƒ­åŠ›å›¾

å‚è€ƒå›¾ï¼š
```
Mon  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  
Wed  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Fri  â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
     Dec Jan Feb ... Nov
```

**é¢œè‰²ç­‰çº§**ï¼ˆä»¥è¿åŠ¨ä¸ºä¾‹ï¼‰:
- ğŸŸ© æ·±ç»¿: 60åˆ†é’Ÿ+
- ğŸŸ© ä¸­ç»¿: 30-59åˆ†é’Ÿ  
- ğŸŸ© æµ…ç»¿: 10-29åˆ†é’Ÿ
- â¬œ ç°è‰²: æœªæ‰“å¡

#### åŠŸèƒ½éœ€æ±‚
1. **Tabåˆ‡æ¢**: è¿åŠ¨ / è¯»ä¹¦ / Duolingo
2. **æ‚¬æµ®æç¤º**: é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
   ```
   2024å¹´12æœˆ3æ—¥
   ğŸƒ è¿åŠ¨: 30åˆ†é’Ÿ (é«˜å¼ºåº¦)
   å¤‡æ³¨: æ™¨è·‘5å…¬é‡Œ
   ```
3. **ç»Ÿè®¡å¡ç‰‡**: æ˜¾ç¤ºæ€»å¤©æ•°ã€è¿ç»­å¤©æ•°ã€æ€»æ—¶é•¿ç­‰
4. **æ‰“å¡æŒ‰é’®**: ç‚¹å‡»æ‰“å¼€è¡¨å•ï¼Œå¡«å†™ä»Šæ—¥æ•°æ®

#### æ¨èç»„ä»¶åº“
- **cal-heatmap**: https://cal-heatmap.com/
- **react-calendar-heatmap**: https://github.com/kevinsqi/react-calendar-heatmap

---

## å‰ç«¯å®ç°æµç¨‹

### æ·»åŠ ç”µå½±ç¤ºä¾‹

```javascript
// 1. æœç´¢ç”µå½±ï¼ˆè°ƒç”¨TMDBï¼‰
const searchMovies = async (query) => {
  const response = await fetch(
    `https://api.themoviedb.org/3/search/movie?api_key=${TMDB_KEY}&query=${query}&language=zh-CN`
  );
  const data = await response.json();
  return data.results;
};

// 2. ç”¨æˆ·é€‰æ‹©ç”µå½±å¹¶å¡«å†™è¡¨å•
const selectedMovie = {
  tmdb_id: 27205,
  release_date: "2010-07-16"
};

const userInput = {
  my_rating: 9.5,
  my_review: "ç¥ä½œ",
  completed_date: "2024-01-15",
  status: "watched"
};

// 3. æäº¤åˆ°åç«¯
const addMovie = async () => {
  const response = await fetch('https://pyqapi.3331322.xyz/api/library/movies', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      ...selectedMovie,
      ...userInput
    })
  });
  const data = await response.json();
  return data;
};

// 4. å±•ç¤ºåˆ—è¡¨æ—¶ï¼Œåˆå¹¶æ•°æ®
const getMovieDetails = async (tmdb_id) => {
  const response = await fetch(
    `https://api.themoviedb.org/3/movie/${tmdb_id}?api_key=${TMDB_KEY}&language=zh-CN`
  );
  return await response.json();
};

// è·å–æˆ‘çš„ç”µå½±åˆ—è¡¨
const myMovies = await fetch('/api/library/movies');
// å¯¹æ¯éƒ¨ç”µå½±ï¼Œè·å–è¯¦æƒ…
const moviesWithDetails = await Promise.all(
  myMovies.data.items.map(async (movie) => ({
    ...movie,
    details: await getMovieDetails(movie.tmdb_id)
  }))
);
```

### çƒ­åŠ›å›¾ç¤ºä¾‹

```javascript
// 1. è·å–å…¨å¹´æ•°æ®
const heatmapData = await fetch('/api/activities/heatmap?type=exercise&year=2024');

// 2. æ¸²æŸ“çƒ­åŠ›å›¾ï¼ˆä½¿ç”¨cal-heatmapï¼‰
const cal = new CalHeatmap();
cal.paint({
  data: {
    source: heatmapData.data,
    x: 'date',
    y: 'value'
  },
  date: { start: new Date('2024-01-01') },
  range: 12, // 12ä¸ªæœˆ
  scale: {
    color: {
      range: ['#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39'],
      domain: [0, 10, 30, 60, 120]
    }
  }
});
```

---

## éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒå˜é‡
```env
VITE_API_URL=https://pyqapi.3331322.xyz
VITE_TMDB_API_KEY=ä½ çš„TMDB_KEY
VITE_RAWG_API_KEY=ä½ çš„RAWG_KEY
```

### æ³¨æ„äº‹é¡¹
1. **CORS**: åç«¯å·²é…ç½®CORSï¼Œå‰ç«¯å¯è·¨åŸŸè°ƒç”¨
2. **è®¤è¯**: æ‰€æœ‰APIéœ€è¦JWT Token
3. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€å¤„ç†401ï¼ˆæœªæˆæƒï¼‰å’Œ403ï¼ˆæƒé™ä¸è¶³ï¼‰
4. **å›¾ç‰‡ä¼˜åŒ–**: TMDBå›¾ç‰‡å»ºè®®ä½¿ç”¨`w500`å°ºå¯¸ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰

---

## å¼€å‘ä¼˜å…ˆçº§

### ç¬¬ä¸€é˜¶æ®µï¼šæ¯æ—¥æ‰“å¡
- æ‰“å¡è¡¨å•
- GitHubé£æ ¼çƒ­åŠ›å›¾
- ç»Ÿè®¡å¡ç‰‡

### ç¬¬äºŒé˜¶æ®µï¼šåª’ä½“åº“
- ç”µå½±æ¨¡å—
- ç”µè§†å‰§æ¨¡å—
- ä¹¦ç±ã€æ¸¸æˆæ¨¡å—

---

å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»åç«¯å¼€å‘å›¢é˜Ÿã€‚
